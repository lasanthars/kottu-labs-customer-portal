<div class="kottu-labs-custom-kottu-wrapper clearfix">
  <div class="container">
    <div class="kottu-labs-custom-kottu-title" *ngIf="!showContents">
      <h2>SELECT A QUANTITY</h2>
    </div>
    <div class="kottu-labs-custom-kottu-quantity">
      <span>I would like to order
        <input name="customKottuMenu" type="number" (keypress)="blockCharacters($event)" min="1" max="999" [(ngModel)]="customKottuMenu" (change)="createNewCustomMenu(customKottuMenu)"/>
      </span> kottu portion(s)
    </div>
      <div class="kottu-labs-custom-kottu-start" *ngIf="!showContents">
          <button type="button" (click)="toggleShow()">
              Let's get cooking!
              <svg aria-hidden="true" data-prefix="fal" data-icon="chevron-circle-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-chevron-circle-right fa-w-16"><path fill="currentColor" d="M8 256c0 137 111 248 248 248s248-111 248-248S393 8 256 8 8 119 8 256zM256 40c118.7 0 216 96.1 216 216 0 118.7-96.1 216-216 216-118.7 0-216-96.1-216-216 0-118.7 96.1-216 216-216zm86.6 224.5l-115.1 115c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L303 256l-99.5-99.5c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l115.1 115c4.6 4.8 4.6 12.4-.1 17.1z" class=""></path></svg>
          </button>
      </div>
    <div *ngIf="showContents" class="kottu-labs-custom-kottu-bottom">
        <div class="kottu-labs-custom-kottu-title">
            <h2>SELECT YOUR CHOICE OF CARB, DRESSING AND PROTEIN</h2>
        </div>
     <div class="kottu-labs-signature-menu-info">
      <p>Large Kottu : Serves 200 g</p>
      <p>Medium Kottu : Serves 300g</p>
      <p>Small Kottu : Serves 200g</p>
    </div>
        <div class="kottu-labs-signature-menu-wrapper row">
      <div class="col-lg-3" *ngFor="let menu of menus; let i = index;">
        <div class="kottu-labs-signature-menu-item kottu-labs-custom-kottu-menu-item">
          <h3>My Kottu</h3>
          <div class="row">
            <div class="col-md-6 kottu-labs-custom-kottu-lbls">
              <span>Portion</span>
            </div>
            <div class="col-md-6 kottu-labs-custom-kottu-select">
              <select [attr.id]="'portionDropDown' + i" (change)="changePortion($event, menu.portions, 'portion', i, 'carbsDropDown' + i)">
                <option *ngFor="let portion of menu.portions" [attr.value]="portion.id" [attr.selected]="portion.name === menu.portions[0].name ? 'selected' : null" >{{portion.name}}</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 kottu-labs-custom-kottu-lbls">
              <span>Carb</span>
            </div>
            <div class="col-md-6 kottu-labs-custom-kottu-select">
              <select [attr.id]="'carbsDropDown' + i" (change)="changePortion($event, menu.carbs, 'carb', i, 'portionDropDown' + i)">
                <option *ngFor="let carb of menu.carbs;" [attr.value]="carb.id" [attr.selected]="carb.name === menu.carbs[0].name ? true : null" >{{carb.name}}</option>
              </select>
            </div>
          </div>
          <div class="kottu-labs-custom-kottu-heading clearfix">
              <h4>Dressing</h4>
          </div>
          <div class="row">
            <div class="col-sm-6" *ngFor="let ingredient of menu.ingredients; let k = index;" [ngStyle]="ingredient.type != '1' && {'display': 'none'}">
              <div class="kottu-labs-custom-kottu-check-wrapper" *ngIf="ingredient.type == '1'">
                <input [attr.name]="i.toString()+k.toString()" [attr.id]="i.toString()+k.toString()" type="checkbox" (change)="calculateAddons($event, ingredient.price, ingredient.id, ingredient.name, i)" class="kottu-labs-custom-kottu-check"/>
                <label [attr.for]="i.toString()+k.toString()" class="kottu-labs-custom-kottu-ingredients">{{ingredient.name}}</label>
              </div>
            </div>
          </div>
          <div class="kottu-labs-custom-kottu-heading clearfix">
            <h4>Protein</h4>
          </div>
          <div class="row">
            <div class="col-sm-6" style="padding-right:0px" *ngFor="let ingredient of menu.ingredients; let j = index;" [ngStyle]="ingredient.type != '2' && {'display': 'none'}">
              <div class="kottu-labs-custom-kottu-check-wrapper" *ngIf="ingredient.type == '2'">
                <input [attr.name]="i.toString()+j.toString()" [attr.id]="i.toString()+j.toString()" type="checkbox" (change)="calculateAddons($event, ingredient.price, ingredient.id, ingredient.name, i)" class="kottu-labs-custom-kottu-check"/>
                <label [attr.for]="i.toString()+j.toString()" class="kottu-labs-custom-kottu-ingredients">{{ingredient.name}}</label>
              </div>
            </div>
          </div>

          <div class="kottu-labs-custom-kottu-menu-total clearfix">
            <span>Total - Rs.{{menu.totalPrice}}/=</span>
          </div>
        </div>
        <div class="kottu-labs-custom-kottu-check" *ngIf="itemCompleted" >
          <i class="fas fa-check fa-2x"></i>
        </div>
      </div>
    </div>
        <button type="button" data-toggle="modal" data-target="#customKottuModalDialog" (click)="addOrderToCart()" class="kottu-labs-custom-kottu-cart-btn" [disabled]="!itemCompleted">Add to cart</button>
    </div>
   </div>
  <kottu-lab-modal-window [urls]="[modalInfo]" [modalid]="modalId"></kottu-lab-modal-window>
</div>
